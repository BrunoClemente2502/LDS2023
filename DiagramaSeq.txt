title Equipa C#1 - Aplicação de análise e edição de fotografias com framework AForge.NET

actor Utilizador
participant Controller
participant View
participant Model

group #FFE6E8 CASO1: Inicia programa sem comandos
space 
activate Utilizador #C24641
Utilizador->Controller:Controller()
activate Controller #C24641
activate Model #C24641
Controller->Model:ListarComandos(): List<ComandoHelp>
Controller<--Model:Retorna lista de comandos registados e descrições
deactivate Model
Controller->View: ApresentarInstrucoes(comandos)
activate View #C24641
deactivate Controller
Utilizador<--View:Imprime mensagem com instruções
deactivate View
note right of Utilizador #FFE6E8:Exit(1)
deactivate Utilizador
end

group CASO2: Inicia programa com comando e argumentos
space 
activate Utilizador
Utilizador->Controller:Controller(comando, argumentos)
activate Controller 
deactivate Utilizador
activate Model 
Controller->Model:ValidarComando(comando): Comando instance\nNormalizarPath(argumentos.path): String
deactivate Model
deactivate Controller

group #FFE6E8 ERRO 1: comando inválido
activate Model #C24641
activate Controller #C24641
Model->Controller:Recebe Exception NoCommandFound
deactivate Model
space
activate View #C24641
Controller->View:ViewError(NoCommandFound, command)
deactivate Controller
activate Utilizador #C24641
Utilizador <-- View: Imprime mensagem a indicar que o o comando inserido é inválido 
deactivate View
space
activate Controller #C24641
activate Model #C24641
Controller->Model:ListarComandos(): List<ComandoHelp>
Controller<--Model:Retorna lista de comandos registados e descrições
deactivate Model
Controller->View: ApresentarInstrucoes(comandos)
activate View #C24641
deactivate Controller
Utilizador<--View:Imprime mensagem com instruções
deactivate View
note right of Utilizador #FFE6E8:Exit(2)
deactivate Utilizador
end

group #FFE6E8 ERRO 2: Path de imagem inválido
space 
activate Controller #C24641
activate Model #C24641
Model->Controller: Recebe instância do Comando\nRecebe Exception NoValidPath
deactivate Model
space
activate View #C24641
Controller->View:ViewError(NoValidPath, argumentos.path)
deactivate Controller
activate Utilizador #C24641
Utilizador <-- View: Imprime mensagem a indicar que path da imagem é inválido 
deactivate View
note right of Utilizador #FFE6E8:Exit(3)
deactivate Utilizador
end


group #C2E5D3 Inicia programa com comando e path de imagem
space 
activate Model #00A36C
activate Controller #00A36C
Model->Controller:Recebe instância do Comando\nRecebe a path absoluta da imagem (normalizada)
Controller->Model:Comando.Executar(path)
Model->Controller:Retorna estado de execução do comando
deactivate Model
deactivate Controller

alt #E5E4E2 Erro 4: Execução da operação com erro
activate Controller #C24641
activate View #C24641
Controller->View: ViewError(ExecutionNotSuccessful, command)
deactivate Controller
activate Utilizador #C24641
Utilizador <<--View: Mensagem a indicar erro na execução da operação
note right of Utilizador #FFE6E8:Exit(4)
deactivate View
deactivate Utilizador

else #F5FFFA SUCESSO: Execução da operação bem sucedida
activate Controller #00A36C
activate View #00A36C
Controller->View: ExibirResultado()
deactivate Controller
activate Model #00A36C
View->Model: PedirResultado()
Model->View:Retorna resultado
deactivate Model
space
activate Utilizador #00A36C
Utilizador <<-- View: Mostra estatísticas ou path para a imagem alterada
deactivate View
note right of Utilizador #F5FFFA:Exit(0)
deactivate Utilizador
end
end


end

space
destroy Utilizador
destroy Controller
destroy View
destroy Model


